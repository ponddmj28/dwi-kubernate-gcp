package th.co.acc.dwi.service.adapter;

import java.time.LocalDate;
import java.time.format.DateTimeFormatter;
import java.util.List;

import org.springframework.beans.factory.InitializingBean;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.stereotype.Component;

import th.co.acc.dwi.model.OrderList;
import th.co.acc.dwi.model.WorkOrder;
import th.co.acc.dwi.service.WorkOrderService;

@Component
public class WorkOrderServiceAdapter implements InitializingBean {

	@Autowired
	private WorkOrderService workOrderService;
	
	private List<WorkOrder> works;
	
	@Override
	public void afterPropertiesSet() throws Exception {
		OrderList order = new OrderList();
		LocalDate date = LocalDate.now();
		String today = date.format(DateTimeFormatter.ofPattern("yyyy-MM-dd"));
		order.setStartDate(today);
		order.setEndDate(today);
		this.works = workOrderService.getOrderListForScreen(orderlist);
	}

	public List<WorkOrder> getWorks() {
		return works;
	}

	public void setWorks(List<WorkOrder> works) {
		this.works = works;
	}

}
